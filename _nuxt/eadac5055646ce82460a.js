(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{522:function(e,t,n){"use strict";n(33);var r=n(7);n(46);function c(){return(c=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e}).apply(this,arguments)}var o,l=(o=function(){var e=!1,t=[];return{resolved:function(){return e},resolve:function(n){if(!e){e=!0;for(var i=0,r=t.length;i<r;i++)t[i](n)}},promise:{then:function(n){e?n():t.push(n)}}}}(),{notify:function(){o.resolve()},wait:function(){return o.promise},render:function(e,t,n){this.wait().then(function(){n(window.grecaptcha.render(e,t))})},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(e)}))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(e)}))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&window.grecaptcha.hasOwnProperty("render")&&this.notify()},assertLoaded:function(){if(!o.resolved())throw new Error("ReCAPTCHA has not been loaded")}});"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=l.notify);var h,d,f,m={components:{VueRecaptcha:{name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var script=document.createElement("script");script.id=this.recaptchaScriptId,script.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit",script.async=!0,script.defer=!0,document.head.appendChild(script)}},mounted:function(){var e=this;l.checkRecaptchaLoad();var t=c({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired}),n=this.$slots.default?this.$el.children[0]:this.$el;l.render(n,t,function(t){e.$widgetId=t,e.$emit("render",t)})},methods:{reset:function(){l.reset(this.$widgetId)},execute:function(){l.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")}},render:function(e){return e("div",{},this.$slots.default)}}},head:function(){return{script:[{src:"https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl=".concat(this.$i18n.locale),type:"text/javascript"}]}},props:{subject:{type:String,default:""}},data:function(){return{loading:!1,fields:{language:{label:"",name:"_language",type:"hidden",value:this.$i18n.locale,hidden:!0},format:{label:"",name:"_format",type:"hidden",value:"html",hidden:!0},next:{label:"",name:"_next",type:"hidden",value:"",hidden:!0},honeypot:{label:"",name:"_gotcha",type:"hidden",value:"",hidden:!0},name:{label:this.$t("contact.name"),name:"name",type:"text",maxlength:50,value:"",required:!0},email:{label:this.$t("contact.email"),name:"_replyto",type:"email",maxlength:50,value:"",required:!0},subject:{label:this.$t("contact.subject"),name:"_subject",type:"text",maxlength:100,value:this.subject,required:!0},message:{label:this.$t("contact.message"),name:"message",type:"textarea",maxlength:200,value:"",required:!0}},recaptchaSiteKey:"6LeTO4sUAAAAALRCnfaXAp-WLookUND-poswA0Xr",recaptchaToken:null}},computed:{isDisabled:function(){return!(this.fields.name.value&&this.fields.email.value&&this.fields.subject.value&&this.fields.message.value&&this.$refs.form.checkValidity())}},methods:{clear:function(){this.fields.name.value="",this.fields.email.value="",this.fields.subject.value="",this.fields.message.value=""},showSuccessNotification:function(){this.$buefy.toast.open({duration:2e3,position:"is-top",message:this.$t("contact.success"),type:"is-success"})},showFailureNotification:function(){this.$buefy.toast.open({duration:5e3,position:"is-top",message:this.$t("contact.failure"),type:"is-danger"})},executeRecaptcha:function(){this.loading=!0,this.recaptchaToken?this.sendMail():this.$refs.invisibleRecaptcha.execute()},onVerifyRecaptcha:function(e){this.recaptchaToken=e,this.sendMail()},onExpiredRecaptcha:function(){this.recaptchaToken=null},sendMailFormspree:(f=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="https://formspree.io/contact@romain-clement.net"){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.$axios.$post(t,{_language:this.fields.language.value,_format:this.fields.format.value,_next:this.fields.next.value,_gotcha:this.fields.honeypot.value,_replyto:this.fields.email.value,name:this.fields.name.value,_subject:this.fields.subject.value,message:this.fields.message.value});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)}),sendMailMailer:(d=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat("https://mailer.romain-clement.net","/api/mail")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.$axios.$post(t,{email:this.fields.email.value,name:this.fields.name.value,subject:this.fields.subject.value,message:this.fields.message.value,honeypot:this.fields.honeypot.value,recaptcha:this.recaptchaToken});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),sendMail:(h=Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sendMailMailer();case 3:this.clear(),this.showSuccessNotification(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.showFailureNotification();case 10:this.loading=!1;case 11:case"end":return e.stop()}},e,this,[[0,7]])})),function(){return h.apply(this,arguments)})}},v=n(17),component=Object(v.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{ref:"form",staticClass:"contact-form",attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.executeRecaptcha(t)}}},[e._l(e.fields,function(t){return n("b-field",{key:t.name,class:{"is-hidden":t.hidden},attrs:{label:t.label}},[n("b-input",{attrs:{name:t.name,type:t.type,maxlength:t.maxlength,required:t.required},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"field.value"}})],1)}),e._v(" "),n("vue-recaptcha",{ref:"invisibleRecaptcha",attrs:{sitekey:e.recaptchaSiteKey,size:"invisible"},on:{verify:e.onVerifyRecaptcha,expired:e.onExpiredRecaptcha}}),e._v(" "),n("b-field",[n("button",{staticClass:"button",attrs:{disabled:e.isDisabled,type:"submit"}},[e._v("\n      "+e._s(e.$t("contact.send"))+"\n    ")])]),e._v(" "),n("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1,active:e.loading},on:{"update:active":function(t){e.loading=t}}})],2)},[],!1,null,null,null);t.a=component.exports},535:function(e,t,n){"use strict";n.r(t);var r={components:{ContactForm:n(522).a},head:function(){return this.$pageHead("contact")}},c=n(17),component=Object(c.a)(r,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"contact"},[t("section",{staticClass:"section"},[t("div",{staticClass:"container"},[t("div",{staticClass:"columns is-centered"},[t("div",{staticClass:"column is-half"},[t("p",{staticClass:"title"},[this._v(this._s(this.$t("contact.title")))]),this._v(" "),t("contact-form")],1)])])])])},[],!1,null,null,null);t.default=component.exports}}]);